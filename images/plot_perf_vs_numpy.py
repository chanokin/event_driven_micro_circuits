import numpy as np
from matplotlib import pyplot as plt

data = {
    "Rate change": [
        [3, 1003, 2003, 3003, 4003, 5003, 6003, 7003, 8003, 9003, 10003, 11003, 12003, 13003, 14003, 15003],
        [117.72821, 117.81592, 118.00898, 118.178535, 116.71973, 116.18097, 115.89843, 121.9303, 127.61695, 135.06729, 144.49849, 152.71811, 157.5863, 165.9417, 170.17989, 177.48906]
    ],
    "Fixed period": [
        [3, 1003, 2003, 3003, 4003, 5003, 6003, 7003, 8003, 9003, 10003, 11003, 12003, 13003, 14003, 15003],
        [47.50532, 47.342117, 47.8884, 57.08845, 66.89786, 80.36834, 93.14292, 105.22684, 118.338356, 133.3881, 148.64252, 163.19792, 172.2165, 187.04932, 197.2458, 213.86128]
    ],
    "Continuous": [
        [3, 1003, 2003, 3003, 4003, 5003, 6003, 7003, 8003, 9003, 10003, 11003, 12003, 13003, 14003, 15003],
        [38.729965, 38.844193, 38.8978, 38.617893, 38.509686, 38.312737, 38.264797, 38.155098, 41.101486, 48.736088, 52.3902, 58.862614, 63.256824, 70.50547, 74.519295, 77.81107]
    ],
    "Numpy": [
        [3, 1000, 5000, 10000, 15000],
        [248.1496806, 449.4085772, 53328.04263, 93419.91421, 148517.7967]
    ]
}
colors = {
    "Rate change": "tab:blue",
    "Fixed period": "tab:orange",
    "Continuous": "tab:green",
    "Numpy": "tab:red",
}

fw = 1.5
fig, ax = plt.subplots(1, 1, figsize=(4 * fw, 3 * fw))
for name in data:
    x, y = data[name]
    ax.semilogy(x, y, label=name, color=colors[name])

ax.set_ylabel("Run time [s]")
ax.set_xlabel("Number of neurons")
ax.grid()
ax.legend()

plt.tight_layout()
plt.savefig(f"perf_Numpy_comparison_with_1500_inputs.png", dpi=300)

plt.show()